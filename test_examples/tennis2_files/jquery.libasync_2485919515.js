!function(a){var b=null,c=function(){var a=window.navigator.userAgent;return a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0},d=function(b){if(void 0!==this.postback&&"object"!=typeof b)return void this.postback.html(b);if("object"!=typeof b||null===b)return this.error(b);if(!0!==b.success){if("function"==typeof this.errorCallback&&this.errorCallback(b),b.sessionExpired||"Session Expired"==b.Error)alert("Your session has expired, redirecting home."),parent.location="/ASP/logout.asp?studioid="+this.studioID;else if(b.sessionWrong)alert("You are connected to another site, redirecting there."),parent.location="/classic/ws";else if(b.errorMessages&&b.errorMessages.length>0&&"function"==typeof this.errorMessageCallback)this.errorMessageCallback(b.errorMessages,b);else if(!this.suppressErrors){var c="<div>We're sorry. We were not able to process this request. Please click OK and try again.</div>";a.SimpleLightBox.alert({title:"Error",content:c})}}else b.script&&a("HEAD").append('<script type="text/javascript">'+b.script+"<\/script>"),b.errorMessages&&b.errorMessages.length>0&&"function"==typeof this.errorMessageCallback?this.errorMessageCallback(b.errorMessages,b):b.json&&"function"==typeof this.callback?this.callback(b.json):"function"==typeof this.callback&&this.callback()},e=function(b,c,d){if(0!=b.status&&("function"==typeof this.errorCallback&&this.errorCallback(c),!this.suppressErrors))if(401==b.status)alert("Your session has expired, redirecting home."),parent.location="/ASP/logout.asp?studioid="+this.studioID;else{var e="<div>We're sorry. We were not able to process this request. Please click OK and try again.</div>";a.SimpleLightBox.alert({title:"Error",content:e})}},f=function(b,c){var d="";"function"==typeof this.errorCallback&&this.errorCallback(b),a.each(c.errorMessages,function(a,b){d+="<div>"+b+"</div>"}),a.SimpleLightBox.alert({title:"Error",content:d})},g={url:void 0,data:void 0,type:"POST",dataType:void 0,error:e,success:d,postback:void 0,callback:void 0,errorCallback:void 0,errorMessageCallback:f,suppressErrors:!1};a.libasync={process:function(d){var e={};if(a.extend(!0,e,g,d),""==e.studioID&&0==e.studioID)throw"need to pass a valid studioID to libasync for security";if(void 0===e.dataType&&(void 0!==e.postback?e.dataType="html":e.dataType="json"),e.url=e.url+(-1==e.url.indexOf("?")?"?":"&")+"studioID="+e.studioID,e.url=e.url+"&isLibAsync=true","json"==e.dataType&&(e.url=e.url+"&isJson=true"),null===b&&(b=c()),b){var f=new Date;e.url=e.url+"&libAsyncTimestamp="+f.getTime()}return a.ajax(e)}}}(jQuery);