!function(a){function b(){if(window.parent.frames)return!0}function c(){return-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod")}var d={onClose:function(){},beforeShow:function(){},isiPhone:c(),isScrollable:!1,isCentered:!1,hasFrames:b(),allowClose:!0,customCloseClass:"",classActivated:!1,focusFirstTextField:!0,backdropLocationSelector:"#fixedTop"},e={init:function(b){return this.each(function(){var c={};a.extend(c,d),b&&a.extend(c,b);var e=a(this);if(e.data("settings",c),0==a(".lightbox-backrop").length){var f='<div class="backdrop exit-lightbox lightbox-backrop"></div>';c.drawOptions?c.drawOptions.allowClose?a(c.backdropLocationSelector).append(f):a(c.backdropLocationSelector).append('<div class="backdrop lightbox-backrop"></div>'):a(c.backdropLocationSelector).append(f),a(".lightbox-backrop").hide()}else a(".lightbox-backrop").length>1&&a(".lightbox-backrop").remove();if(0==e.children(".lightbox-close").length){var g='<a class=" exit-lightbox lightbox-close"><img src="/asp/images/close.png" /></a>';""!==c.customCloseClass&&(g="<div class='exit-lightbox "+c.customCloseClass+"'></div>"),c.drawOptions?c.drawOptions.allowClose&&e.append(g):e.append(g)}})},show:function(b){return this.each(function(){var b=a(this),c=b.data("settings")||d;if(c=a.extend({},d,c),c.beforeShow&&"function"==typeof c.beforeShow&&c.beforeShow(),0==a(".lightbox-backrop").length){var e='<div class="backdrop exit-lightbox lightbox-backrop"></div>';c.drawOptions?c.drawOptions.allowClose?a(c.backdropLocationSelector).append(e):a(c.backdropLocationSelector).append('<div class="backdrop lightbox-backrop"></div>'):a(c.backdropLocationSelector).append(e)}if(c.drawOptions&&c.drawOptions.allowClose){var f='<a class="exit-lightbox lightbox-close"><img src="/asp/images/close.png" /></a>';""!==c.customCloseClass&&(f="<div class='exit-lightBox "+c.customCloseClass+"'></div>"),b.append(f)}c.classActivated?a(".lightbox-backrop").fadeIn(133):a(".lightbox-backrop").show();var g=a(".lightboxWrapper").length?a(".lightboxWrapper").empty():a("<div class='lightboxWrapper' />");c.isScrollable&&(g.append(b.show().SimpleLightBox("center")),a("body").append(g),a(".lightboxWrapper").on("click.simpleLightBox",function(a){a.target==a.currentTarget&&b.SimpleLightBox("hide")})),c.classActivated?(a("body").css("overflow","hidden"),b.addClass("LightBox-active").SimpleLightBox("center")):b.show().SimpleLightBox("center"),c.focusFirstTextField&&b.find(":text").first().focus(),window.implementationSwitchIsEnabled("MAP_fixSimpleLightBoxAllowClose")?c.allowClose&&a(".exit-lightbox").live("click.simpleLightBox",function(){b.SimpleLightBox("hide")}):a(".exit-lightbox").live("click.simpleLightBox",function(){b.SimpleLightBox("hide")})})},hide:function(b){return this.each(function(){var b=a(this),c=b.data("settings")||d;if(a(".lightbox-backrop").remove(),b.parent(".lightboxWrapper").length>0){var e=b.parent(".lightboxWrapper");a("body").append(b),e.remove()}c.classActivated||b.hasClass("LightBox-active")?(a("body").removeAttr("style"),b.removeClass("LightBox-active")):b.hide(),c.onClose&&"function"==typeof c.onClose&&c.onClose(),a(".exit-lightbox").die("click.simpleLightBox")})},center:function(b){return this.each(function(){var b,c,e=a(this),f=e.data("settings")||d;c=f.hasFrames?a.browser.msie&&a.browser.version<=8?document.documentElement.clientWidth/2:f.isiPhone?"100%":a(document.defaultView.top.document).width()/2:a(document).width()/2,b=e.outerWidth()/2,c-=b,f.isScrollable||f.isCentered||e.css("left",c)})}};a.fn.SimpleLightBox=function(b,c){return e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.tooltip"):e.init.apply(this,arguments)},a.SimpleLightBox=function(b){if(!b||!b.drawOptions)throw'Must include an object with a "drawOptions" property to render as a template;';var c={destroyOnHide:!0};b=a.extend(!0,{},d,c,b);var e,f,g,h;if(a("#autoGenLightBox").length&&a("#autoGenLightBox").remove(),e=a('<div id="autoGenLightBox" class="LightBox"/>'),e.addClass(b.drawOptions.classes).addClass(b.drawOptions.type).addClass(b.drawOptions.size).appendTo(a("body")),a("<h2 />").html(b.drawOptions.title).appendTo(e),g=a('<div class="basic-container"/>').appendTo(e),h=a('<div class="buttons"/>').appendTo(e),"string"==typeof b.drawOptions.content?g.append(a("<p/>")).find("p").html(b.drawOptions.content):g.append(b.drawOptions.content),e.SimpleLightBox(b),b.drawOptions.hasButtons){var f=a("<div class='stepButtons'/>").appendTo(h);a.each(b.drawOptions.buttons,function(b,c){a.isFunction(c)&&(c=c.apply(e));var d=a("<a />").data("lightbox",e).html(a.isFunction(c.text)?c.text.apply(e):c.text).appendTo(f);c.id&&d.attr("id",c.id),d.addClass((c.type?c.type:"standard")+"Btn"),c.classes&&d.addClass(c.classes),d.click(c.onclick),f.append(d)})}return e.SimpleLightBox("show"),e},a.SimpleLightBox.erorr=function(){},a.SimpleLightBox.confirm=function(b){var c={title:"Please Confirm",classes:"",size:"medium",type:"negative",content:"OK?",okBtn:{text:"ok",id:"ok",callback:void 0,onclick:function(){var b=a(this),c=b.data("lightbox"),d=c.data("settings");a.isFunction(d.drawOptions.okBtn.callback)?(d.drawOptions.okBtn.callback.apply(b),c.SimpleLightBox("hide")):alert("Should define in an ok button callback or onclick")},type:null},allowClose:!0,hasButtons:!0,buttons:[{text:"Cancel",onclick:function(){a(this).data("lightbox").SimpleLightBox("hide")},classes:"standardBtn",type:"cancel"},function(){return a(this).data("settings").drawOptions.okBtn}]},d={};a.extend(!0,d,c,b),b.mainContent&&(b.subContent?d.content=a("<h3>"+b.mainContent+'</h3><p class="subContent">'+b.subContent+"</p>"):d.content=a("<h3>"+b.mainContent+"</h3>"));var e={};e.isScrollable=b.isScrollable,e.isCentered=b.isCentered,e.drawOptions=d,b.onClose&&(e.onClose=b.onClose),b.backdropLocationSelector&&(e.backdropLocationSelector=b.backdropLocationSelector),a.SimpleLightBox(e)},a.SimpleLightBox.alert=function(b){var c={},d={drawOptions:{}},e="OK",f=!0;b&&(b.title&&(d.drawOptions.title=b.title),b.classes&&(d.drawOptions.classes=b.classes),b.content&&(d.drawOptions.content=b.content),b.type&&(d.drawOptions.type=b.type),b.size&&(d.drawOptions.size=b.size),b.hasButtons||null==b.hasButtons||(d.drawOptions.hasButtons=!1),b.buttonText&&(e=b.buttonText),f=void 0==b.allowClose||b.allowClose,b.isScrollable&&(d.isScrollable=!0),b.isCentered&&(d.isCentered=!0),"function"==typeof b.onClose&&(d.onClose=b.onClose));var g={drawOptions:{title:"Alert",classes:"",size:"medium",type:"negative",content:"Alert",hasButtons:!0,buttons:[{text:e,id:"ok",onclick:function(){a(this).data("lightbox").SimpleLightBox("hide"),"function"==typeof d.onClose&&d.onClose.apply()},classes:"standardBtn",type:null}],allowClose:f}};a.extend(!0,c,g,d),a.SimpleLightBox(c)},a.VideoLightBox=function(b){if(!b||!b.src)throw'Must include an object with a "src" property to render  video as a template;';b=a.extend(!0,{},d,b),a("#autoGenLightBox").length&&a("#autoGenLightBox").remove();var c=a('<div id="autoGenLightBox" class="VideoLightBox"><iframe width="'+b.width+'" height="'+b.height+'" type="text/html" src="'+b.src+'" frameborder="0"></iframe></div>');return c.addClass(b.classes).addClass(b.size).appendTo(a("body")),c.SimpleLightBox(b),c.SimpleLightBox("show"),c},a.VideoLightBox.video=function(b){var c={classes:"",size:"xlarge",height:"540px",width:"960px",allowClose:!0,hasButtons:!1,onClose:function(){a(".VideoLightBox").remove()}};a.extend(!0,c,b);var d={};d.onClose=c.onClose,d.height=b.height?b.height:c.height,d.width=b.width?b.width:c.width,d.size=b.size?b.size:c.size,d.classes=b.classes?b.classes:c.classes,b.src&&(d.src=b.src),b.backdropLocationSelector&&(d.backdropLocationSelector=b.backdropLocationSelector),a.VideoLightBox(d)}}(jQuery);