$.fn.autoResize=function(a){var b=$.extend({onResize:function(){},animate:!0,animateDuration:150,animateCallback:function(){},extraSpace:-1,limit:1e3},a);return this.filter("textarea").each(function(){var a=$(this).css({resize:"none","overflow-y":"hidden"}),c=(a.height(),function(){var b=["height","width","lineHeight","textDecoration","letterSpacing"],c={};$.each(b,function(b,d){c[d]=a.css(d)});var d=a.clone();return a.data("myAutoresizeClone",d),d.removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(c).addClass("autoResizeClone").attr("tabIndex","-1").insertBefore(a)}()),d=null,e=this,f=function(f){textval=$(e).val(),"\n"==textval.charAt(textval.length-1)&&(textval+=" "),c.height(0).val(textval).scrollTop(1e4);var g=Math.max(c.scrollTop())+b.extraSpace,h=$(e).add(c);if(d!==g){if(d=g,g>=b.limit&&0!=b.limit)return void $(e).css("overflow-y","");b.animate&&"block"===a.css("display")?h.stop().animate({height:g},b.animateDuration,b.animateCallback):h.height(g),b.onResize.call(e)}};$.throttle&&(f=$.throttle(500,f)),a.unbind(".dynSiz").bind("keyup.dynSiz",f).bind("change.dynSiz",f)}),this};